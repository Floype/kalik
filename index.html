<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Калькулятор себестоимости неоновой вывески</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 30px auto; padding: 20px; background: #f1f5f9; }
    label { display: block; margin-top: 15px; }
    input[type="number"] { width: 100%; padding: 8px; margin-top: 5px; }
    .result { background: #fff; padding: 15px; margin-top: 20px; border-radius: 8px; }
    button { margin-top: 20px; padding: 10px 20px; }
  </style>
</head>
<body>
  <h1>Калькулятор неоновой вывески</h1>

  <label>Метраж обычного неона (м):
    <input type="number" id="neonBasic" min="0" step="0.01" />
  </label>

  <label>Метраж смарт-неона (м):
    <input type="number" id="neonSmart" min="0" step="0.01" />
  </label>

  <label>Ширина подложки (м):
    <input type="number" id="width" min="0" step="0.01" />
  </label>

  <label>Высота подложки (м):
    <input type="number" id="height" min="0" step="0.01" />
  </label>

  <label>
    <input type="checkbox" id="isOutdoor" /> Вывеска для улицы
  </label>

  <button onclick="calculate()">Рассчитать</button>

  <div class="result" id="result" style="display:none"></div>

  <script>
    const blocksIndoor = [
      [12, 178], [24, 216], [36, 264], [60, 324], [100, 495],
      [150, 600], [200, 710], [250, 830], [300, 910], [350, 1010]
    ];
    const blocksOutdoor = [
      [12, 516], [24, 516], [36, 516], [60, 692], [100, 1045],
      [150, 1385], [200, 1637], [250, 1763], [300, 2015], [350, 2204], [400, 2582]
    ];

    function calculate() {
      const neonBasic = parseFloat(document.getElementById('neonBasic').value) || 0;
      const neonSmart = parseFloat(document.getElementById('neonSmart').value) || 0;
      const width = parseFloat(document.getElementById('width').value) || 0;
      const height = parseFloat(document.getElementById('height').value) || 0;
      const isOutdoor = document.getElementById('isOutdoor').checked;

      const totalNeon = (neonBasic + neonSmart) * 1.1; // +10% запас
      const powerNeeded = totalNeon * 14; // в ваттах

      const blocks = isOutdoor ? blocksOutdoor : blocksIndoor;
      let blockCost = 0;
      for (let [watts, cost] of blocks) {
        if (watts >= powerNeeded) {
          blockCost = cost;
          break;
        }
      }
      if (blockCost === 0) blockCost = blocks[blocks.length - 1][1]; // самый мощный блок

      const basicNeonCost = neonBasic * 1.1 * 200;
      const smartNeonCost = neonSmart * 1.1 * 1000;
      const polyCost = width * height * 3000;
      const wireCost = 200;
      const frezLength = totalNeon + 2 * (width + height);
      const frezCost = frezLength * 40;

      const total = basicNeonCost + smartNeonCost + polyCost + wireCost + blockCost + frezCost;

      document.getElementById('result').style.display = 'block';
      document.getElementById('result').innerHTML = `
        <strong>Смета:</strong><br>
        Обычный неон: ${basicNeonCost.toFixed(0)} руб<br>
        Смарт-неон: ${smartNeonCost.toFixed(0)} руб<br>
        Подложка: ${polyCost.toFixed(0)} руб<br>
        Провод с выключателем: ${wireCost} руб<br>
        Блок питания: ${blockCost} руб<br>
        Фрезеровка: ${frezCost.toFixed(0)} руб<br>
        <br><strong>Итого: ${total.toFixed(0)} руб</strong>
      `;
    }
  </script>
</body>
</html>
